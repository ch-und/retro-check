var yn=Object.defineProperty;var xn=(t,e,n)=>e in t?yn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ut=(t,e,n)=>(xn(t,typeof e!="symbol"?e+"":e,n),n),dt=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var g=(t,e,n)=>(dt(t,e,"read from private field"),n?n.call(t):e.get(t)),ue=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Xe=(t,e,n,r)=>(dt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var _=(t,e,n)=>(dt(t,e,"access private method"),n);import{r as l,j as o}from"./index-ab282390.js";import{U as bn,S as vn,D as Sn,n as _e,e as wn}from"./save_excel-034318c7.js";import{a as ye,C as zt}from"./axios-2fba8d58.js";import{F as de,M as ft,T as J,P as $t,D as Dt,a as Nn}from"./index-3e9d9416.js";import{D as kn,I as tt,R as In,C as Ft,S as B,P as En,E as Tn,a as _n}from"./index-46d2abd3.js";import{A as Gt,_ as rt,a as Kt,b as Jt,c as U,d as qe,u as An,i as Cn,e as je,f as yt,w as jn,g as Lt,h as zn,j as $n,k as mt,l as Dn,K as Qe,m as Fn,n as Ln,o as Bn,r as gt,p as Zt,q as Yt,s as Xt,t as On,v as Mn,x as Rn,y as Un,z as Pn,C as Vn,S as Hn,B as Wn,F as qn,D as Gn,E as ht,G as Bt,N as Ot,H as Mt,I as Kn,J as Jn,L as Se,M as Zn}from"./EditOutlined-19744e98.js";import{L as Yn}from"./index-b0eb8b58.js";import{m as Rt}from"./index-b6d0a939.js";import{S as Xn}from"./index-3ea3be87.js";var Qn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};const er=Qn;var Qt=function(e,n){return l.createElement(Gt,rt(rt({},e),{},{ref:n,icon:er}))};Qt.displayName="UpOutlined";const tr=l.forwardRef(Qt);function xt(){return typeof BigInt=="function"}function ze(t){var e=t.trim(),n=e.startsWith("-");n&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var r=e||"0",a=r.split("."),s=a[0]||"0",f=a[1]||"0";s==="0"&&f==="0"&&(n=!1);var d=n?"-":"";return{negative:n,negativeStr:d,trimStr:r,integerStr:s,decimalStr:f,fullStr:"".concat(d).concat(r)}}function It(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function Ge(t){var e=String(t);if(It(t)){var n=Number(e.slice(e.indexOf("e-")+2)),r=e.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return e.includes(".")&&Et(e)?e.length-e.indexOf(".")-1:0}function at(t){var e=String(t);if(It(t)){if(t>Number.MAX_SAFE_INTEGER)return String(xt()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(xt()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(Ge(e))}return ze(e).fullStr}function Et(t){return typeof t=="number"?!Number.isNaN(t):t?/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t):!1}function en(t){return!t&&t!==0&&!Number.isNaN(t)||!String(t).trim()}var nr=function(){function t(e){if(Jt(this,t),U(this,"origin",""),U(this,"number",void 0),U(this,"empty",void 0),en(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return Kt(t,[{key:"negate",value:function(){return new t(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=Number(n);if(Number.isNaN(r))return this;var a=this.number+r;if(a>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var s=Math.max(Ge(this.number),Ge(r));return new t(a.toFixed(s))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":at(this.number):this.origin}}]),t}(),rr=function(){function t(e){if(Jt(this,t),U(this,"origin",""),U(this,"negative",void 0),U(this,"integer",void 0),U(this,"decimal",void 0),U(this,"decimalLen",void 0),U(this,"empty",void 0),U(this,"nan",void 0),en(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var n=e;if(It(n)&&(n=Number(n)),n=typeof n=="string"?n:at(n),Et(n)){var r=ze(n);this.negative=r.negative;var a=r.trimStr.split(".");this.integer=BigInt(a[0]);var s=a[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}return Kt(t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new t(this.toString());return n.negative=!n.negative,n}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=new t(n);if(r.isInvalidate())return this;var a=Math.max(this.getDecimalStr().length,r.getDecimalStr().length),s=this.alignDecimal(a),f=r.alignDecimal(a),d=(s+f).toString(),c=ze(d),m=c.negativeStr,p=c.trimStr,N="".concat(m).concat(p.padStart(a+1,"0"));return new t("".concat(N.slice(0,-a),".").concat(N.slice(-a)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":ze("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),t}();function te(t){return xt()?new rr(t):new nr(t)}function nt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t==="")return"";var a=ze(t),s=a.negativeStr,f=a.integerStr,d=a.decimalStr,c="".concat(e).concat(d),m="".concat(s).concat(f);if(n>=0){var p=Number(d[n]);if(p>=5&&!r){var N=te(t).add("".concat(s,"0.").concat("0".repeat(n)).concat(10-p));return nt(N.toString(),e,n,r)}return n===0?m:"".concat(m).concat(e).concat(d.padEnd(n,"0").slice(0,n))}return c===".0"?m:"".concat(m).concat(c)}var ar=function(){var e=l.useState(!1),n=qe(e,2),r=n[0],a=n[1];return An(function(){a(Cn())},[]),r},ir=200,sr=600;function or(t){var e=t.prefixCls,n=t.upNode,r=t.downNode,a=t.upDisabled,s=t.downDisabled,f=t.onStep,d=l.useRef(),c=l.useRef();c.current=f;var m=function(D,T){D.preventDefault(),c.current(T);function A(){c.current(T),d.current=setTimeout(A,ir)}d.current=setTimeout(A,sr)},p=function(){clearTimeout(d.current)};l.useEffect(function(){return p},[]);var N=ar();if(N)return null;var h="".concat(e,"-handler"),j=je(h,"".concat(h,"-up"),U({},"".concat(h,"-up-disabled"),a)),O=je(h,"".concat(h,"-down"),U({},"".concat(h,"-down-disabled"),s)),M={unselectable:"on",role:"button",onMouseUp:p,onMouseLeave:p};return l.createElement("div",{className:"".concat(h,"-wrap")},l.createElement("span",yt({},M,{onMouseDown:function(D){m(D,!0)},"aria-label":"Increase Value","aria-disabled":a,className:j}),n||l.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-up-inner")})),l.createElement("span",yt({},M,{onMouseDown:function(D){m(D,!1)},"aria-label":"Decrease Value","aria-disabled":s,className:O}),r||l.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-down-inner")})))}function Ut(t){var e=typeof t=="number"?at(t):ze(t).fullStr,n=e.includes(".");return n?ze(e.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:t+"0"}function lr(t,e){var n=l.useRef(null);function r(){try{var s=t.selectionStart,f=t.selectionEnd,d=t.value,c=d.substring(0,s),m=d.substring(f);n.current={start:s,end:f,value:d,beforeTxt:c,afterTxt:m}}catch{}}function a(){if(t&&n.current&&e)try{var s=t.value,f=n.current,d=f.beforeTxt,c=f.afterTxt,m=f.start,p=s.length;if(s.endsWith(c))p=s.length-n.current.afterTxt.length;else if(s.startsWith(d))p=d.length;else{var N=d[m-1],h=s.indexOf(N,m-1);h!==-1&&(p=h+1)}t.setSelectionRange(p,p)}catch(j){jn(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(j.message))}}return[r,a]}const cr=function(){var t=l.useRef(0),e=function(){Lt.cancel(t.current)};return l.useEffect(function(){return e},[]),function(n){e(),t.current=Lt(function(){n()})}};var ur=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],Pt=function(e,n){return e||n.isEmpty()?n.toString():n.toNumber()},Vt=function(e){var n=te(e);return n.isInvalidate()?null:n},tn=l.forwardRef(function(t,e){var n,r=t.prefixCls,a=r===void 0?"rc-input-number":r,s=t.className,f=t.style,d=t.min,c=t.max,m=t.step,p=m===void 0?1:m,N=t.defaultValue,h=t.value,j=t.disabled,O=t.readOnly,M=t.upHandler,z=t.downHandler,D=t.keyboard,T=t.controls,A=T===void 0?!0:T,ie=t.stringMode,x=t.parser,Y=t.formatter,V=t.precision,X=t.decimalSeparator,Ne=t.onChange,se=t.onInput,fe=t.onPressEnter,ke=t.onStep,xe=zn(t,ur),$e="".concat(a,"-input"),be=l.useRef(null),Ue=l.useState(!1),ve=qe(Ue,2),Q=ve[0],Ie=ve[1],H=l.useRef(!1),me=l.useRef(!1),oe=l.useRef(!1),Pe=l.useState(function(){return te(h??N)}),le=qe(Pe,2),w=le[0],ee=le[1];function G(v){h===void 0&&ee(v)}var F=l.useCallback(function(v,y){if(!y)return V>=0?V:Math.max(Ge(v),Ge(p))},[V,p]),Ee=l.useCallback(function(v){var y=String(v);if(x)return x(y);var E=y;return X&&(E=E.replace(X,".")),E.replace(/[^\w.-]+/g,"")},[x,X]),i=l.useRef(""),u=l.useCallback(function(v,y){if(Y)return Y(v,{userTyping:y,input:String(i.current)});var E=typeof v=="number"?at(v):v;if(!y){var S=F(E,y);if(Et(E)&&(X||S>=0)){var ce=X||".";E=nt(E,ce,S)}}return E},[Y,F,X]),b=l.useState(function(){var v=N??h;return w.isInvalidate()&&["string","number"].includes($n(v))?Number.isNaN(v)?"":v:u(w.toString(),!1)}),$=qe(b,2),C=$[0],L=$[1];i.current=C;function R(v,y){L(u(v.isInvalidate()?v.toString(!1):v.toString(!y),y))}var k=l.useMemo(function(){return Vt(c)},[c,V]),K=l.useMemo(function(){return Vt(d)},[d,V]),W=l.useMemo(function(){return!k||!w||w.isInvalidate()?!1:k.lessEquals(w)},[k,w]),Te=l.useMemo(function(){return!K||!w||w.isInvalidate()?!1:w.lessEquals(K)},[K,w]),ge=lr(be.current,Q),Ve=qe(ge,2),De=Ve[0],st=Ve[1],_t=function(y){return k&&!y.lessEquals(k)?k:K&&!K.lessEquals(y)?K:null},ot=function(y){return!_t(y)},lt=function(y,E){var S=y,ce=ot(S)||S.isEmpty();if(!S.isEmpty()&&!E&&(S=_t(S)||S,ce=!0),!O&&!j&&ce){var He=S.toString(),ct=F(He,E);return ct>=0&&(S=te(nt(He,".",ct)),ot(S)||(S=te(nt(He,".",ct,!0)))),S.equals(w)||(G(S),Ne==null||Ne(S.isEmpty()?null:Pt(ie,S)),h===void 0&&R(S,E)),S}return w},cn=cr(),At=function v(y){if(De(),L(y),!me.current){var E=Ee(y),S=te(E);S.isNaN()||lt(S,!0)}se==null||se(y),cn(function(){var ce=y;x||(ce=y.replace(/。/g,".")),ce!==y&&v(ce)})},un=function(){me.current=!0},dn=function(){me.current=!1,At(be.current.value)},fn=function(y){At(y.target.value)},Ct=function(y){var E;if(!(y&&W||!y&&Te)){H.current=!1;var S=te(oe.current?Ut(p):p);y||(S=S.negate());var ce=(w||te(0)).add(S.toString()),He=lt(ce,!1);ke==null||ke(Pt(ie,He),{offset:oe.current?Ut(p):p,type:y?"up":"down"}),(E=be.current)===null||E===void 0||E.focus()}},jt=function(y){var E=te(Ee(C)),S=E;E.isNaN()?S=w:S=lt(E,y),h!==void 0?R(w,!1):S.isNaN()||R(S,!1)},mn=function(){H.current=!0},gn=function(y){var E=y.which,S=y.shiftKey;H.current=!0,S?oe.current=!0:oe.current=!1,E===Qe.ENTER&&(me.current||(H.current=!1),jt(!1),fe==null||fe(y)),D!==!1&&!me.current&&[Qe.UP,Qe.DOWN].includes(E)&&(Ct(Qe.UP===E),y.preventDefault())},hn=function(){H.current=!1,oe.current=!1},pn=function(){jt(!1),Ie(!1),H.current=!1};return mt(function(){w.isInvalidate()||R(w,!1)},[V]),mt(function(){var v=te(h);ee(v);var y=te(Ee(C));(!v.equals(y)||!H.current||Y)&&R(v,H.current)},[h]),mt(function(){Y&&st()},[C]),l.createElement("div",{className:je(a,s,(n={},U(n,"".concat(a,"-focused"),Q),U(n,"".concat(a,"-disabled"),j),U(n,"".concat(a,"-readonly"),O),U(n,"".concat(a,"-not-a-number"),w.isNaN()),U(n,"".concat(a,"-out-of-range"),!w.isInvalidate()&&!ot(w)),n)),style:f,onFocus:function(){Ie(!0)},onBlur:pn,onKeyDown:gn,onKeyUp:hn,onCompositionStart:un,onCompositionEnd:dn,onBeforeInput:mn},A&&l.createElement(or,{prefixCls:a,upNode:M,downNode:z,upDisabled:W,downDisabled:Te,onStep:Ct}),l.createElement("div",{className:"".concat($e,"-wrap")},l.createElement("input",yt({autoComplete:"off",role:"spinbutton","aria-valuemin":d,"aria-valuemax":c,"aria-valuenow":w.isInvalidate()?null:w.toString(),step:p},xe,{ref:Dn(be,e),className:$e,value:C,onChange:fn,disabled:j,readOnly:O}))))});tn.displayName="InputNumber";const dr=t=>{const{componentCls:e,lineWidth:n,lineType:r,colorBorder:a,borderRadius:s,fontSizeLG:f,controlHeightLG:d,controlHeightSM:c,colorError:m,inputPaddingHorizontalSM:p,colorTextDescription:N,motionDurationMid:h,colorPrimary:j,controlHeight:O,inputPaddingHorizontal:M,colorBgContainer:z,colorTextDisabled:D,borderRadiusSM:T,borderRadiusLG:A,controlWidth:ie,handleVisible:x}=t;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},gt(t)),Zt(t)),Yt(t,e)),{display:"inline-block",width:ie,margin:0,padding:0,border:`${n}px ${r} ${a}`,borderRadius:s,"&-rtl":{direction:"rtl",[`${e}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:f,borderRadius:A,[`input${e}-input`]:{height:d-2*n}},"&-sm":{padding:0,borderRadius:T,[`input${e}-input`]:{height:c-2*n,padding:`0 ${p}px`}},"&:hover":Object.assign({},Xt(t)),"&-focused":Object.assign({},On(t)),"&-disabled":Object.assign(Object.assign({},Mn(t)),{[`${e}-input`]:{cursor:"not-allowed"}}),"&-out-of-range":{input:{color:m}},"&-group":Object.assign(Object.assign(Object.assign({},gt(t)),Rn(t)),{"&-wrapper":{display:"inline-block",textAlign:"start",verticalAlign:"top",[`${e}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${e}-group-addon`]:{borderRadius:A}},"&-sm":{[`${e}-group-addon`]:{borderRadius:T}}}}),[e]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},gt(t)),{width:"100%",height:O-2*n,padding:`0 ${M}px`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:s,outline:0,transition:`all ${h} linear`,appearance:"textfield",fontSize:"inherit",verticalAlign:"top"}),Un(t.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[e]:{[`&:hover ${e}-handler-wrap, &-focused ${e}-handler-wrap`]:{opacity:1},[`${e}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:t.handleWidth,height:"100%",background:z,borderStartStartRadius:0,borderStartEndRadius:s,borderEndEndRadius:s,borderEndStartRadius:0,opacity:x===!0?1:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${h} linear ${h}`,[`${e}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${e}-handler-up-inner,
              ${e}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:t.handleFontSize}}},[`${e}-handler`]:{height:"50%",overflow:"hidden",color:N,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${n}px ${r} ${a}`,transition:`all ${h} linear`,"&:active":{background:t.colorFillAlter},"&:hover":{height:"60%",[`
              ${e}-handler-up-inner,
              ${e}-handler-down-inner
            `]:{color:j}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},Pn()),{color:N,transition:`all ${h} linear`,userSelect:"none"})},[`${e}-handler-up`]:{borderStartEndRadius:s},[`${e}-handler-down`]:{borderBlockStart:`${n}px ${r} ${a}`,borderEndEndRadius:s},"&-disabled, &-readonly":{[`${e}-handler-wrap`]:{display:"none"},[`${e}-input`]:{color:"inherit"}},[`
          ${e}-handler-up-disabled,
          ${e}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${e}-handler-up-disabled:hover &-handler-up-inner,
          ${e}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:D}}},{[`${e}-borderless`]:{borderColor:"transparent",boxShadow:"none",[`${e}-handler-down`]:{borderBlockStartWidth:0}}}]},fr=t=>{const{componentCls:e,inputPaddingHorizontal:n,inputAffixPadding:r,controlWidth:a,borderRadiusLG:s,borderRadiusSM:f}=t;return{[`${e}-affix-wrapper`]:Object.assign(Object.assign(Object.assign({},Zt(t)),Yt(t,`${e}-affix-wrapper`)),{position:"relative",display:"inline-flex",width:a,padding:0,paddingInlineStart:n,"&-lg":{borderRadius:s},"&-sm":{borderRadius:f},[`&:not(${e}-affix-wrapper-disabled):hover`]:Object.assign(Object.assign({},Xt(t)),{zIndex:1}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${e}[disabled]`]:{background:"transparent"}},[`> div${e}`]:{width:"100%",border:"none",outline:"none",[`&${e}-focused`]:{boxShadow:"none !important"}},[`input${e}-input`]:{padding:0},"&::before":{width:0,visibility:"hidden",content:'"\\a0"'},[`${e}-handler-wrap`]:{zIndex:2},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:r},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:n,marginInlineStart:r}}})}},mr=Fn("InputNumber",t=>{const e=Ln(t);return[dr(e),fr(e),Bn(e)]},t=>({controlWidth:90,handleWidth:t.controlHeightSM-t.lineWidth*2,handleFontSize:t.fontSize/2,handleVisible:"auto"}));var gr=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const nn=l.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=l.useContext(Vn),a=l.useContext(Hn),[s,f]=l.useState(!1),d=l.useRef(null);l.useImperativeHandle(e,()=>d.current);const{className:c,rootClassName:m,size:p,disabled:N,prefixCls:h,addonBefore:j,addonAfter:O,prefix:M,bordered:z=!0,readOnly:D,status:T,controls:A}=t,ie=gr(t,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),x=n("input-number",h),[Y,V]=mr(x),{compactSize:X,compactItemClassnames:Ne}=Wn(x,r);let se=l.createElement(tr,{className:`${x}-handler-up-inner`}),fe=l.createElement(kn,{className:`${x}-handler-down-inner`});const ke=typeof A=="boolean"?A:void 0;typeof A=="object"&&(se=typeof A.upIcon>"u"?se:l.createElement("span",{className:`${x}-handler-up-inner`},A.upIcon),fe=typeof A.downIcon>"u"?fe:l.createElement("span",{className:`${x}-handler-down-inner`},A.downIcon));const{hasFeedback:xe,status:$e,isFormItemInput:be,feedbackIcon:Ue}=l.useContext(qn),ve=Jn($e,T),Q=X||p||a,Ie=M!=null||xe,H=!!(j||O),me=l.useContext(Gn),oe=N??me,Pe=je({[`${x}-lg`]:Q==="large",[`${x}-sm`]:Q==="small",[`${x}-rtl`]:r==="rtl",[`${x}-borderless`]:!z,[`${x}-in-form-item`]:be},ht(x,ve),Ne,V,c,!Ie&&!H&&m);let le=l.createElement(tn,Object.assign({ref:d,disabled:oe,className:Pe,upHandler:se,downHandler:fe,prefixCls:x,readOnly:D,controls:ke},ie));if(Ie){const w=je(`${x}-affix-wrapper`,ht(`${x}-affix-wrapper`,ve,xe),{[`${x}-affix-wrapper-focused`]:s,[`${x}-affix-wrapper-disabled`]:t.disabled,[`${x}-affix-wrapper-sm`]:Q==="small",[`${x}-affix-wrapper-lg`]:Q==="large",[`${x}-affix-wrapper-rtl`]:r==="rtl",[`${x}-affix-wrapper-readonly`]:D,[`${x}-affix-wrapper-borderless`]:!z},!H&&c,!H&&m,V);le=l.createElement("div",{className:w,style:t.style,onMouseUp:()=>d.current.focus()},M&&l.createElement("span",{className:`${x}-prefix`},M),Bt(le,{style:null,value:t.value,onFocus:ee=>{var G;f(!0),(G=t.onFocus)===null||G===void 0||G.call(t,ee)},onBlur:ee=>{var G;f(!1),(G=t.onBlur)===null||G===void 0||G.call(t,ee)}}),xe&&l.createElement("span",{className:`${x}-suffix`},Ue))}if(H){const w=`${x}-group`,ee=`${w}-addon`,G=j?l.createElement("div",{className:ee},j):null,F=O?l.createElement("div",{className:ee},O):null,Ee=je(`${x}-wrapper`,w,V,{[`${w}-rtl`]:r==="rtl"}),i=je(`${x}-group-wrapper`,{[`${x}-group-wrapper-sm`]:Q==="small",[`${x}-group-wrapper-lg`]:Q==="large",[`${x}-group-wrapper-rtl`]:r==="rtl"},ht(`${x}-group-wrapper`,ve,xe),V,c,m);le=l.createElement("div",{className:i,style:t.style},l.createElement("div",{className:Ee},G&&l.createElement(Ot,null,l.createElement(Mt,{status:!0,override:!0},G)),Bt(le,{style:null,disabled:oe}),F&&l.createElement(Ot,null,l.createElement(Mt,{status:!0,override:!0},F))))}return Y(le)}),rn=nn,hr=t=>l.createElement(Kn,{theme:{components:{InputNumber:{handleVisible:!0}}}},l.createElement(nn,Object.assign({},t)));rn._InternalPanelDoNotUseOrYouWillBeFired=hr;const pr=rn;var yr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};const xr=yr;var an=function(e,n){return l.createElement(Gt,rt(rt({},e),{},{ref:n,icon:xr}))};an.displayName="SettingOutlined";const br=l.forwardRef(an),vr={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function Sr(t,e){try{let n=vr[e];if(!n)return"Error: Invalid Network Name";let a=(await ye.post(n,{jsonrpc:"2.0",method:"eth_getBalance",params:[t,"latest"],id:1})).data.result;return(parseInt(a,16)/10**18).toFixed(4)}catch(n){return console.error(n),"Error"}}const wr={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function Nr(t,e){try{let n=wr[e];if(!n)return"Error: Invalid Network Name";const a=(await ye.post(n,{jsonrpc:"2.0",method:"eth_getTransactionCount",params:[t,"latest"],id:1})).data.result;return parseInt(a,16)}catch(n){return console.error(n),"Error"}}async function kr(t){try{let e="https://block-explorer-api.mainnet.zksync.io/address/"+t;const n=await ye.get(e);let r,a,s;return"0x000000000000000000000000000000000000800A"in n.data.balances?(a=n.data.balances["0x000000000000000000000000000000000000800A"].balance,a=(Number(a)/10**18).toFixed(3)):a=0,"0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"in n.data.balances?(s=n.data.balances["0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"].balance,s=(Number(s)/10**6).toFixed(3)):s=0,r=n.data.sealedNonce,{zks2_balance:a,zks2_tx_amount:r,zks2_usdcBalance:s}}catch(e){return console.error(e),{zks2_balance:"-",zks2_tx_amount:"-",zks2_usdcBalance:"-"}}}async function Ir(t){try{let e="https://api.zksync.io/jsrpc";const n=await ye.post(e,{id:1,jsonrpc:"2.0",method:"account_info",params:[t]});let r;"ETH"in n.data.result.committed.balances?r=(n.data.result.committed.balances.ETH/10**18).toFixed(4):r=0;let a=n.data.result.committed.nonce;return{zks1_balance:r,zks1_tx_amount:a}}catch(e){return console.error(e),{zks1_balance:"Error",zks1_tx_amount:"Error"}}}const Er="6.3.0";function Tr(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const a=new Error(`invalid value for type ${e}`);throw a.code="INVALID_ARGUMENT",a.argument=`value.${n}`,a.value=t,a}function sn(t,e,n){for(let r in e){let a=e[r];const s=n?n[r]:null;s&&Tr(a,s,r),Object.defineProperty(t,r,{enumerable:!0,value:a,writable:!1})}}function Le(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(Le).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let n="0x";for(let r=0;r<t.length;r++)n+=e[t[r]>>4],n+=e[t[r]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return Le(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(n=>`${Le(n)}: ${Le(t[n])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function _r(t,e,n){{const a=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Le(n)}`);for(const s in n){const f=n[s];a.push(s+"="+Le(f))}}a.push(`code=${e}`),a.push(`version=${Er}`),a.length&&(t+=" ("+a.join(", ")+")")}let r;switch(e){case"INVALID_ARGUMENT":r=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(t);break;default:r=new Error(t)}return sn(r,{code:e}),n&&Object.assign(r,n),r}function Z(t,e,n,r){if(!t)throw _r(e,n,r)}function P(t,e,n,r){Z(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){const n=String.fromCharCode(233).normalize("NFD"),r=String.fromCharCode(101,769);if(n!==r)throw new Error("broken")}t.push(e)}catch{}return t},[]);function Ar(t,e,n){if(n==null&&(n=""),t!==e){let r=n,a="new";n&&(r+=".",a+=" "+n),Z(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:a})}}function Cr(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let a=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(a,a+2),16),a+=2;return r}P(!1,"invalid BytesLike value",e||"value",t)}function jr(t,e){return Cr(t,e,!1)}const on=BigInt(0),Be=BigInt(1),Oe=9007199254740991;function bt(t,e){const n=ln(t,"value"),r=BigInt(it(e,"width"));if(Z(n>>r===on,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Be){const a=(Be<<r)-Be;return-((~n&a)+Be)}return n}function Ht(t,e){const n=ln(t,"value"),r=BigInt(it(e,"bits"));return n&(Be<<r)-Be}function Tt(t,e){switch(typeof t){case"bigint":return t;case"number":return P(Number.isInteger(t),"underflow",e||"value",t),P(t>=-Oe&&t<=Oe,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){P(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}P(!1,"invalid BigNumberish value",e||"value",t)}function ln(t,e){const n=Tt(t,e);return Z(n>=on,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const Wt="0123456789abcdef";function zr(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=Wt[n>>4],e+=Wt[n&15];return BigInt(e)}return Tt(t)}function it(t,e){switch(typeof t){case"bigint":return P(t>=-Oe&&t<=Oe,"overflow",e||"value",t),Number(t);case"number":return P(Number.isInteger(t),"underflow",e||"value",t),P(t>=-Oe&&t<=Oe,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return it(BigInt(t),e)}catch(n){P(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}P(!1,"invalid numeric value",e||"value",t)}const $r=BigInt(-1),ne=BigInt(0),Me=BigInt(1),Dr=BigInt(5),Fe={};let Re="0000";for(;Re.length<80;)Re+=Re;function Ae(t){let e=Re;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function We(t,e,n){const r=BigInt(e.width);if(e.signed){const a=Me<<r-Me;Z(n==null||t>=-a&&t<a,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>ne?t=bt(Ht(t,r),r):t=-bt(Ht(-t,r),r)}else{const a=Me<<r;Z(n==null||t>=0&&t<a,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%a+a)%a&a-Me}return t}function pt(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);P(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,f=(d,c,m)=>s[d]==null?m:(P(typeof s[d]===c,"invalid fixed format ("+d+" not "+c+")","format."+d,s[d]),s[d]);e=f("signed","boolean",e),n=f("width","number",n),r=f("decimals","number",r)}P(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),P(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const a=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:a}}function Fr(t,e){let n="";t<ne&&(n="-",t*=$r);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=Re+r;const a=r.length-e;for(r=r.substring(0,a)+"."+r.substring(a);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var re,I,q,pe,Ce,ae,he,Ke,St,Je,wt,Ze,Nt,Ye,kt;const we=class{constructor(e,n,r){ue(this,pe);ue(this,ae);ue(this,Ke);ue(this,Je);ue(this,Ze);ue(this,Ye);ut(this,"format");ue(this,re,void 0);ue(this,I,void 0);ue(this,q,void 0);ut(this,"_value");Ar(e,Fe,"FixedNumber"),Xe(this,I,n),Xe(this,re,r);const a=Fr(n,r.decimals);sn(this,{format:r.name,_value:a}),Xe(this,q,Ae(r.decimals))}get signed(){return g(this,re).signed}get width(){return g(this,re).width}get decimals(){return g(this,re).decimals}get value(){return g(this,I)}addUnsafe(e){return _(this,Ke,St).call(this,e)}add(e){return _(this,Ke,St).call(this,e,"add")}subUnsafe(e){return _(this,Je,wt).call(this,e)}sub(e){return _(this,Je,wt).call(this,e,"sub")}mulUnsafe(e){return _(this,Ze,Nt).call(this,e)}mul(e){return _(this,Ze,Nt).call(this,e,"mul")}mulSignal(e){_(this,pe,Ce).call(this,e);const n=g(this,I)*g(e,I);return Z(n%g(this,q)===ne,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),_(this,ae,he).call(this,n/g(this,q),"mulSignal")}divUnsafe(e){return _(this,Ye,kt).call(this,e)}div(e){return _(this,Ye,kt).call(this,e,"div")}divSignal(e){Z(g(e,I)!==ne,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),_(this,pe,Ce).call(this,e);const n=g(this,I)*g(this,q);return Z(n%g(e,I)===ne,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),_(this,ae,he).call(this,n/g(e,I),"divSignal")}cmp(e){let n=this.value,r=e.value;const a=this.decimals-e.decimals;return a>0?r*=Ae(a):a<0&&(n*=Ae(-a)),n<r||n>r?-1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=g(this,I);return g(this,I)<ne&&(e-=g(this,q)-Me),e=g(this,I)/g(this,q)*g(this,q),_(this,ae,he).call(this,e,"floor")}ceiling(){let e=g(this,I);return g(this,I)>ne&&(e+=g(this,q)-Me),e=g(this,I)/g(this,q)*g(this,q),_(this,ae,he).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=Dr*Ae(n-1);let a=this.value+r;const s=Ae(n);return a=a/s*s,We(a,g(this,re),"round"),new we(Fe,a,g(this,re))}isZero(){return g(this,I)===ne}isNegative(){return g(this,I)<ne}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return we.fromString(this.toString(),e)}static fromValue(e,n,r){n==null&&(n=0);const a=pt(r);let s=Tt(e,"value");const f=n-a.decimals;if(f>0){const d=Ae(f);Z(s%d===ne,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=d}else f<0&&(s*=Ae(-f));return We(s,a,"fromValue"),new we(Fe,s,a)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);P(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const a=pt(n);let s=r[2]||"0",f=r[3]||"";for(;f.length<a.decimals;)f+=Re;Z(f.substring(a.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),f=f.substring(0,a.decimals);const d=BigInt(r[1]+s+f);return We(d,a,"fromString"),new we(Fe,d,a)}static fromBytes(e,n){let r=zr(jr(e,"value"));const a=pt(n);return a.signed&&(r=bt(r,a.width)),We(r,a,"fromBytes"),new we(Fe,r,a)}};let vt=we;re=new WeakMap,I=new WeakMap,q=new WeakMap,pe=new WeakSet,Ce=function(e){P(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},ae=new WeakSet,he=function(e,n){return e=We(e,g(this,re),n),new we(Fe,e,g(this,re))},Ke=new WeakSet,St=function(e,n){return _(this,pe,Ce).call(this,e),_(this,ae,he).call(this,g(this,I)+g(e,I),n)},Je=new WeakSet,wt=function(e,n){return _(this,pe,Ce).call(this,e),_(this,ae,he).call(this,g(this,I)-g(e,I),n)},Ze=new WeakSet,Nt=function(e,n){return _(this,pe,Ce).call(this,e),_(this,ae,he).call(this,g(this,I)*g(e,I)/g(this,q),n)},Ye=new WeakSet,kt=function(e,n){return Z(g(e,I)!==ne,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),_(this,pe,Ce).call(this,e),_(this,ae,he).call(this,g(this,I)*g(this,q)/g(e,I),n)};const Lr=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Br(t,e){let n=18;if(typeof e=="string"){const r=Lr.indexOf(e);P(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=it(e,"unit"));return vt.fromValue(t,n,{decimals:n}).toString()}function qt(t){return Br(t,18)}async function Or(){return(await ye.post("https://mainnet.era.zksync.io/",{method:"zks_getTokenPrice",params:["0x0000000000000000000000000000000000000000"],id:42,jsonrpc:"2.0"})).data.result}async function Mr(t,e){try{let n={},r=0;const a=await Or();for(let s=0;s<t.length;s++){const f=t[s].from,d=t[s].tokenAddress,c=t[s].amount,m=t[s].transactionHash;if(n[m]){const p=n[m];d.toLowerCase()==="0x000000000000000000000000000000000000800A".toLowerCase()&&p<Number(c)/10**18*parseFloat(a)&&(n[m]=Number(c)/10**18*parseFloat(a)),d.toLowerCase()==="0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4".toLowerCase()&&p<Number(c)/10**6&&(n[m]=Number(c)/10**6)}else d.toLowerCase()==="0x000000000000000000000000000000000000800A".toLowerCase()&&(n[m]=Number(c)/10**18*parseFloat(a)),d.toLowerCase()==="0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4".toLowerCase()&&(n[m]=Number(c)/10**6)}for(const s in n)r+=n[s];return{totalExchangeAmount:r.toFixed(2)}}catch(n){return console.log(n),{totalExchangeAmount:"-"}}}async function Rr(t){try{let e=[],n="";const r="https://block-explorer-api.mainnet.zksync.io/address/"+t+"/transfers?toDate="+encodeURIComponent(new Date().toISOString())+"&pageSize=10&page=1",a=await ye.get(r);for(e=[...e,...a.data.items],n="https://block-explorer-api.mainnet.zksync.io/"+a.data.links.next;n!=="https://block-explorer-api.mainnet.zksync.io/";){const s=await ye.get(n);e=[...e,...s.data.items],n="https://block-explorer-api.mainnet.zksync.io/"+s.data.links.next}return Mr(e,t)}catch(e){return console.log(e),{totalExchangeAmount:"-"}}}function Ur(t){try{const e=new Date(t),n=8,r=new Date(e.getTime()+n*3600*1e3),a=new Date,f=new Date(a.getTime()+n*3600*1e3)-r,d=Math.floor(f/(1e3*60*60)),c=Math.floor(d/24);return c>0?`${c}天前`:d>0?`${d}小时前`:"刚刚"}catch(e){return console.log(e),"-"}}function Pr(t){return`${t.getUTCFullYear()}-${t.getUTCMonth()+1}-${t.getUTCDate()}`}function Vr(t){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));let e=new Date(Date.UTC(t.getUTCFullYear(),0,1)),n=Math.ceil(((t-e)/864e5+1)/7);return t.getUTCFullYear()+"W"+n}function Hr(t){return t.getUTCFullYear()+"-"+(t.getUTCMonth()+1)}function Wr(t,e){let n="",r=0,a=0,s=0,f=0,d=0,c=new Set,m=new Set,p=new Set,N=new Set;for(let h=0;h<t.length;h++){const j=t[h].from,O=t[h].to,M=(parseInt(t[h].fee,16)/10**18).toFixed(5),z=t[h].receivedAt,D=t[h].isL1Originated;if(j.toLowerCase()===e.toLowerCase()){if(m.add(Pr(new Date(Date.parse(z)))),p.add(Vr(new Date(Date.parse(z)))),N.add(Hr(new Date(Date.parse(z)))),n===""&&(n=Ur(z)),r+=parseFloat(M),D){a++;const T=qt(t[h].value);s+=parseFloat(T)}if(O.toLowerCase()==="0x000000000000000000000000000000000000800A".toLowerCase()){f++;const T=qt(t[h].value);d+=parseFloat(T)}}c.add(O)}return c=c.size,m=m.size,p=p.size,N=N.size,{zks2_last_tx:n===""?"无交易":n,totalFee:r.toFixed(4),l1Tol2Times:a,l1Tol2Amount:s.toFixed(4),l2Tol1Times:f,l2Tol1Amount:d.toFixed(4),contractActivity:c,dayActivity:m,weekActivity:p,monthActivity:N}}async function qr(t){try{let e=[],n="";const r="https://block-explorer-api.mainnet.zksync.io/transactions?address="+t+"&pageSize=10&page=1&toDate="+encodeURIComponent(new Date().toISOString()),a=await ye.get(r);for(e=[...e,...a.data.items],n="https://block-explorer-api.mainnet.zksync.io/"+a.data.links.next;n!=="https://block-explorer-api.mainnet.zksync.io/";){const c=await ye.get(n);e=[...e,...c.data.items],n="https://block-explorer-api.mainnet.zksync.io/"+c.data.links.next}const s=[Wr(e,t),Rr(t)],[f,d]=await Promise.all(s);return{...f,...d}}catch(e){return console.log(e),{zks2_last_tx:"-",totalFee:"-",l1Tol2Times:"-",l1Tol2Amount:"-",l2Tol1Times:"-",l2Tol1Amount:"-",contractActivity:"-",dayActivity:"-",weekActivity:"-",monthActivity:"-",totalExchangeAmount:"-"}}}async function et(t){console.log("正在获取数据..."+t);const e=[await Sr(t,"ethereum"),await Nr(t,"ethereum"),await kr(t),await Ir(t),await qr(t)],[n,r,{zks2_balance:a,zks2_tx_amount:s,zks2_usdcBalance:f},{zks1_balance:d,zks1_tx_amount:c},{zks2_last_tx:m,totalFee:p,l1Tol2Times:N,l1Tol2Amount:h,l2Tol1Times:j,l2Tol1Amount:O,contractActivity:M,dayActivity:z,weekActivity:D,monthActivity:T,totalExchangeAmount:A}]=await Promise.all(e);return{eth_balance:n,eth_tx_amount:r,zks2_balance:a,zks2_tx_amount:s,zks2_usdcBalance:f,zks1_balance:d,zks1_tx_amount:c,zks2_last_tx:m,totalFee:p,l1Tol2Times:N,l1Tol2Amount:h,l2Tol1Times:j,l2Tol1Amount:O,contractActivity:M,dayActivity:z,weekActivity:D,monthActivity:T,totalExchangeAmount:A}}const{Content:Gr}=Yn,{TextArea:Kr}=tt;function ia(){const[t,e]=l.useState(0),[n,r]=l.useState(0),[a,s]=l.useState(!1),[f,d]=l.useState({}),[c,m]=l.useState([]),[p,N]=l.useState(!1),[h,j]=l.useState(!1),[O,M]=l.useState(!1),[z]=de.useForm(),[D]=de.useForm(),[T,A]=l.useState([]),[ie]=de.useForm(),[x,Y]=l.useState(!1),[V,X]=l.useState(!1),[Ne,se]=l.useState(!1);l.useEffect(()=>{e(0);const i=localStorage.getItem("zksync_config");if(i){const u=JSON.parse(i);d(u),D.setFieldsValue(u)}else d({ETHTx:null,zkSyncLiteMinTx:null,zkSyncEraMinTx:null,dayMin:null,weekMin:null,monthMin:null,L1ToL2Tx:null,L2ToL1Tx:null,L1ToL2ETH:null,L2ToL1ETH:null,gasFee:null,contractMin:null,totalAmount:null})},[]);const fe=async()=>{try{const i=await ie.validateFields();if(i.address.length!==42){_e.error({message:"错误",description:"请输入正确的地址"},2);return}Y(!1);const u=c.findIndex(b=>b.address===i.address);if(u!==-1){m(c.map((C,L)=>L===u?{...C,name:i.name}:C));const b=[...c],$=await et(i.address);b[u]={...b[u],...$},m(b),localStorage.setItem("addresses",JSON.stringify(c))}else{const b={key:c.length.toString(),name:i.name,address:i.address,eth_balance:null,eth_tx_amount:null,zks2_balance:null,zks2_tx_amount:null,zks2_usdcBalance:null,zks2_last_tx:null,zks1_balance:null,zks1_tx_amount:null,dayActivity:null,weekActivity:null,monthActivity:null,l1Tol2Times:null,l1Tol2Amount:null,l2Tol1Times:null,l2Tol1Amount:null,contractActivity:null,totalFee:null,totalExchangeAmount:null},$=[...c,b];m($),et(i.address).then(C=>{console.log(C);const L={...b,...C},R=[...c,L];m(R),localStorage.setItem("addresses",JSON.stringify(R))})}}catch(i){_e.error({message:"错误",description:i.message},2)}finally{ie.resetFields()}},ke=async()=>{if(!T.length){_e.error({message:"错误",description:"请先选择要刷新的地址"},2);return}X(!0);try{let u=0,b=[];const $=[...c],C=()=>{for(;u<5&&b.length>0;){const L=b.shift();u+=1,L().finally(()=>{u-=1,C()})}};for(let L of T){const R=$.findIndex(k=>k.key===L);if(R!==-1){const k=$[R];b.push(()=>{const K=Object.keys(k);for(let W of K)W!=="name"&&W!=="address"&&W!=="key"&&(k[W]=null);return et(k.address).then(W=>{$[R]={...k,...W},m([...$]),localStorage.setItem("addresses",JSON.stringify($))})})}C()}for(;u>0||b.length>0;)await new Promise(L=>setTimeout(L,100))}catch(i){_e.error({message:"错误",description:i.message},2)}finally{X(!1),A([]),Rt.success("刷新成功")}},xe=async()=>{try{s(!0),j(!1);const u=(await z.validateFields()).addresses.split(`
`);r(u.length);const b=[...c],$=5;let C=0,L=[];e(0);const R=()=>{for(;L.length>0&&C<$;){const k=L.shift();C+=1,k().finally(()=>{C-=1,R()})}};for(let k of u){if(k=k.trim(),k.length!==42){_e.error({message:"错误",description:"请输入正确的地址"});continue}let K=()=>new Promise((ge,Ve)=>{e(De=>De+1),ge()});const W=b.findIndex(ge=>ge.address===k),Te=W!==-1?b[W]:{key:b.length.toString(),address:k,eth_balance:null,eth_tx_amount:null,zks2_balance:null,zks2_tx_amount:null,zks2_usdcBalance:null,zks1_balance:null,zks1_tx_amount:null,zks2_last_tx:null,dayActivity:null,weekActivity:null,monthActivity:null,l1Tol2Times:null,l1Tol2Amount:null,l2Tol1Times:null,l2Tol1Amount:null,contractActivity:null,totalFee:null,totalExchangeAmount:null};W===-1&&b.push(Te),L.push(()=>K().then(()=>et(k).then(ge=>{const Ve={...Te,...ge},De=b.findIndex(st=>st.address===k);De!==-1&&(b[De]=Ve)}))),R()}for(;C>0||L.length>0;)await new Promise(k=>setTimeout(k,100));m(b),localStorage.setItem("addresses",JSON.stringify(b))}catch(i){_e.error({message:"错误",description:i.message})}finally{s(!1),e(0),z.resetFields(),A([]),Rt.success("批量添加成功")}},$e=()=>{N(!p)},be=()=>p?o.jsx(Tn,{}):o.jsx(_n,{}),Ue=()=>{Y(!0)},ve=()=>{j(!0)},Q=()=>{wn(c,"walletInfo")};l.useEffect(()=>{se(!0);const i=localStorage.getItem("addresses");setTimeout(()=>{se(!1)},500),i&&m(JSON.parse(i))},[]);const Ie=()=>{Y(!1)},H=i=>{m(c.filter(u=>u.key!==i)),localStorage.setItem("addresses",JSON.stringify(c.filter(u=>u.key!==i)))},me=()=>{if(!T.length){_e.error({message:"错误",description:"请先选择要删除的地址"},2);return}console.log(T);const i=c.filter(u=>!T.includes(u.key));console.log(i),m(c.filter(u=>!T.includes(u.key))),localStorage.setItem("addresses",JSON.stringify(c.filter(u=>!T.includes(u.key)))),A([])},oe={selectedRowKeys:T,onChange:i=>{A(i)}},Pe=()=>{j(!1)},[le,w]=l.useState(null),ee=[{title:"#",key:"index",align:"center",render:(i,u,b)=>b+1},{title:"备注",dataIndex:"name",key:"name",align:"center",render:(i,u)=>u.key===le?o.jsx(tt,{placeholder:"请输入备注",defaultValue:i,onPressEnter:$=>{u.name=$.target.value,m([...c]),localStorage.setItem("addresses",JSON.stringify(c)),w(null)}}):o.jsxs(o.Fragment,{children:[o.jsx(Nn,{color:"blue",children:i}),o.jsx(Se,{shape:"circle",icon:o.jsx(Zn,{}),size:"small",onClick:()=>w(u.key)})]})},{title:o.jsxs("span",{children:["钱包地址",o.jsx("span",{onClick:$e,style:{marginLeft:8,cursor:"pointer"},children:be()})]}),dataIndex:"address",key:"address",align:"center",render:(i,u)=>p?i.slice(0,4)+"***"+i.slice(-4):Ee(u)?o.jsx("div",{style:{backgroundColor:"#bbeefa",borderRadius:"5px"},children:i}):i||o.jsx(B,{})},{title:"ETH",key:"eth_group",className:"zks_eth",children:[{title:"ETH",dataIndex:"eth_balance",key:"eth_balance",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i},{title:"Tx",dataIndex:"eth_tx_amount",key:"eth_tx_amount",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i}]},{title:"zkSyncLite",key:"zks_lite_group",className:"zks_lite",children:[{title:"ETH",dataIndex:"zks1_balance",key:"zks1_balance",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i},{title:"Tx",dataIndex:"zks1_tx_amount",key:"zks1_tx_amount",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i}]},{title:"zkSyncEra",key:"zks_era_group",className:"zks_era",children:[{title:"ETH",dataIndex:"zks2_balance",key:"zks2_balance",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i},{title:"USDC",dataIndex:"zks2_usdcBalance",key:"zks2_usdcBalance",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i},{title:"Tx",dataIndex:"zks2_tx_amount",key:"zks2_tx_amount",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i},{title:"最后交易",dataIndex:"zks2_last_tx",key:"zks2_last_tx",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):o.jsx("a",{href:"https://explorer.zksync.io/address/"+u.address,target:"_blank",children:i})},{title:"官方桥跨链Tx数",key:"cross_chain_tx_count_group",children:[{title:"L1->L2",dataIndex:"l1Tol2Times",key:"l1Tol2Times",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i},{title:"L2->L1",dataIndex:"l2Tol1Times",key:"l2Tol1Times",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i}]},{title:"官方桥跨链金额(ETH)",key:"cross_chain_amount_group",children:[{title:"L1->L2",dataIndex:"l1Tol2Amount",key:"l1Tol2Amount",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i},{title:"L2->L1",dataIndex:"l2Tol1Amount",key:"l2Tol1Amount",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i}]},{title:"活跃统计",key:"activity_stats_group",children:[{title:"日",dataIndex:"dayActivity",key:"dayActivity",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i},{title:"周",dataIndex:"weekActivity",key:"weekActivity",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i},{title:"月",dataIndex:"monthActivity",key:"monthActivity",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i},{title:"不同合约",dataIndex:"contractActivity",key:"contractActivity",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i},{title:"金额(U)",dataIndex:"totalExchangeAmount",key:"totalExchangeAmount",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i},{title:"FeeΞ",dataIndex:"totalFee",key:"totalFee",align:"center",render:(i,u)=>i===null?o.jsx(B,{}):i}]}]},{title:"操作",key:"action",align:"center",render:(i,u)=>o.jsx(Xn,{size:"small",children:o.jsx($t,{title:"确认删除？",onConfirm:()=>H(u.key),children:o.jsx(Se,{icon:o.jsx(Dt,{})})})})}],G=()=>{const i=D.getFieldsValue();localStorage.setItem("zksync_config",JSON.stringify(i)),d(i),M(!1),console.log(f)},F=({name:i,addonBefore:u,addonAfter:b})=>o.jsx(de.Item,{name:i,children:o.jsx(pr,{min:0,style:{width:"100%"},addonBefore:u,addonAfter:b})}),Ee=i=>{const u={ETHTx:"eth_tx_amount",zkSyncLiteMinTx:"zks1_tx_amount",zkSyncEraMinTx:"zks2_tx_amount",L1ToL2Tx:"l1Tol2Times",L2ToL1Tx:"l2Tol1Times",L1ToL2ETH:"l1Tol2Amount",L2ToL1ETH:"l2Tol1Amount",contractMin:"contractActivity",dayMin:"dayActivity",weekMin:"weekActivity",monthMin:"monthActivity",gasFee:"totalFee",totalAmount:"totalExchangeAmount"};return Object.keys(u).every(b=>{if(!(b in f)||f[b]===null||f[b]===void 0)return!0;const $=u[b];return Number(i[$])>=Number(f[b])})};return o.jsx("div",{children:o.jsxs(Gr,{children:[o.jsx(ft,{title:"批量添加地址",open:h,onOk:xe,onCancel:Pe,okButtonProps:{loading:V},okText:"添加地址",cancelText:"取消",children:o.jsx(de,{form:z,layout:"vertical",children:o.jsx(de.Item,{label:"地址",name:"addresses",rules:[{required:!0}],children:o.jsx(Kr,{placeholder:"请输入地址，每行一个",style:{width:"500px",height:"200px"}})})})}),o.jsx(ft,{title:"添加地址",open:x,onOk:fe,onCancel:Ie,okButtonProps:{loading:V},okText:"添加地址",cancelText:"取消",children:o.jsxs(de,{form:ie,layout:"vertical",children:[o.jsx(de.Item,{label:"地址",name:"address",rules:[{required:!0}],children:o.jsx(tt,{placeholder:"请输入地址"})}),o.jsx(de.Item,{label:"备注",name:"name",children:o.jsx(tt,{placeholder:"请输入备注"})})]})}),o.jsx(ft,{title:"zkSync",open:O,onOk:G,onCancel:()=>{M(!1)},okText:"保存",cancelText:"取消",width:700,style:{top:10},children:o.jsx(de,{form:D,layout:"vertical",children:o.jsx(zt,{title:"设置钱包预期标准，若钱包达到设置标准，钱包地址背景会为蓝色，更清晰",bordered:!0,style:{width:"100%"},children:o.jsxs(In,{gutter:[16,16],children:[o.jsxs(Ft,{span:12,children:[o.jsx(F,{name:"ETHTx",addonBefore:"ETH Tx数量 ≥ ",addonAfter:"个"}),o.jsx(F,{name:"zkSyncLiteMinTx",addonBefore:"zkSyncLite Tx数量 ≥ ",addonAfter:"个"}),o.jsx(F,{name:"zkSyncEraMinTx",addonBefore:"zkSyncEra Tx数量 ≥ ",addonAfter:"个"}),o.jsx(F,{name:"dayMin",addonBefore:"日活跃数 ≥ ",addonAfter:"天"}),o.jsx(F,{name:"weekMin",addonBefore:"周活跃数 ≥ ",addonAfter:"周"}),o.jsx(F,{name:"monthMin",addonBefore:"月活跃数 ≥ ",addonAfter:"月"})]}),o.jsxs(Ft,{span:12,children:[o.jsx(F,{name:"L1ToL2Tx",addonBefore:"L1->L2跨链Tx ≥ ",addonAfter:"个"}),o.jsx(F,{name:"L2ToL1Tx",addonBefore:"L2->L1跨链Tx ≥ ",addonAfter:"个"}),o.jsx(F,{name:"L1ToL2ETH",addonBefore:"L1->L2跨链金额 ≥ ",addonAfter:"ETH"}),o.jsx(F,{name:"L2ToL1ETH",addonBefore:"L2->L1跨链金额 ≥ ",addonAfter:"ETH"}),o.jsx(F,{name:"gasFee",addonBefore:"消耗gasFee",addonAfter:"ETH"}),o.jsx(F,{name:"contractMin",addonBefore:"不同合约数 ≥ ",addonAfter:"个"}),o.jsx(F,{name:"totalAmount",addonBefore:"总交易金额 ≥ ",addonAfter:"U"})]})]})})})}),o.jsx(B,{spinning:Ne,children:o.jsx(J,{rowKey:i=>i.key,rowSelection:oe,dataSource:c,pagination:!1,bordered:!0,style:{marginBottom:"20px",zIndex:2},size:"small",columns:ee,summary:i=>{let u=0,b=0,$=0,C=0,L=0;i.forEach(({eth_balance:k,zks1_balance:K,zks2_balance:W,zks2_usdcBalance:Te,totalFee:ge})=>{u+=Number(k),b+=Number(K),$+=Number(W),C+=Number(Te),L+=Number(ge)});const R=Array(10).fill().map((k,K)=>o.jsx(J.Summary.Cell,{index:K+6}));return o.jsx(o.Fragment,{children:o.jsxs(J.Summary.Row,{children:[o.jsx(J.Summary.Cell,{index:0,colSpan:4,children:"总计"}),o.jsx(J.Summary.Cell,{index:4,children:u.toFixed(4)}),o.jsx(J.Summary.Cell,{index:5}),o.jsx(J.Summary.Cell,{index:6,children:b.toFixed(4)}),o.jsx(J.Summary.Cell,{index:7}),o.jsx(J.Summary.Cell,{index:8,children:$.toFixed(4)}),o.jsx(J.Summary.Cell,{index:9,children:C.toFixed(2)}),R,o.jsx(J.Summary.Cell,{index:19}),o.jsx(J.Summary.Cell,{index:20,children:L.toFixed(4)})]})})},footer:()=>o.jsx(zt,{children:o.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",gap:"10px"},children:[o.jsx(Se,{type:"primary",onClick:()=>{M(!0)},size:"large",style:{width:"20%"},icon:o.jsx(br,{}),children:"配置"}),o.jsx(Se,{type:"primary",onClick:Ue,size:"large",style:{width:"20%"},icon:o.jsx(En,{}),children:"添加地址"}),o.jsx(Se,{type:"primary",onClick:ve,size:"large",style:{width:"20%"},icon:o.jsx(bn,{}),loading:a,children:a?`添加中 进度:(${t}/${n})`:"批量添加地址"}),o.jsx(Se,{type:"primary",onClick:ke,loading:V,size:"large",style:{width:"20%"},icon:o.jsx(vn,{}),children:V?"正在刷新":"刷新选中地址"}),o.jsx($t,{title:"确认删除"+T.length+"个地址？",onConfirm:me,children:o.jsx(Se,{type:"primary",danger:!0,size:"large",style:{width:"20%"},icon:o.jsx(Dt,{}),children:"删除选中地址"})}),o.jsx(Se,{type:"primary",icon:o.jsx(Sn,{}),size:"large",style:{width:"8%"},onClick:Q})]})})})})]})})}export{ia as default};
